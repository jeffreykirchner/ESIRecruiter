<!-- subject view invitation text -->  
<div class="modal" id="subject_consent_form_modal" tabindex="-1" role="dialog" aria-labelledby="subject_consent_form_modal_label" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="helpModalTitle">Informed Consent to Participate in Research</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col text-center">
                        <div v-show="current_invitation && current_invitation.consent_form">

                            <div v-if="checkMobile()">
                                 <a v-bind:href="(current_invitation && current_invitation.consent_form) ? current_invitation.consent_form.pdf_file_url : ''" 
                                    download="Consent_Form.pdf"
                                    >
                                     <h4>Download Consent Form</h4>
                                </a>
                            </div>

                            <div v-else>
                                <object class="conset_form" 
                                    id="consent_pdf_id" 
                                    v-bind:data="(current_invitation && current_invitation.consent_form) ? current_invitation.consent_form.pdf_file_url : null" 
                                    type="text/html" 
                                    target="_parent">
                                </object>
                            </div>
                                                                                        
                        </div>

                        <div v-show="!current_invitation || !current_invitation.consent_form" class="text-center mt-4">
                            <h4>No consent form found.</h4>
                            For more information contact us at: {{labManager}}
                        </div>
                    </div>
                </div>                 

                <div class="row mt-4" v-show="current_invitation && current_invitation.consent_form">
                    <div class="col text-center">
                        <b>I have read the above information, understand it fully and have had any questions regarding the study answered to my satisfaction. I consent to participate in the research.  I agree to participate in the study.</b>
                    </div>
                </div>

                <div class="row mt-4" v-show="current_invitation && current_invitation.consent_form && current_invitation.consent_form.signature_required">
                    <div class="col text-center">
                        <canvas class="signature" key="signature_canvas" id="signature_canvas_id" style="border-style: solid;border-width: 1px;"></canvas>
                    </div>
                </div>

                <div class="row" v-show="current_invitation && !current_invitation.consented && current_invitation.consent_form.signature_required">
                    <div class="col text-center ">                        
                        <button type="button" class="btn btn-outline-primary" v-on:click = "clearSignature()">
                            Clear <i class="fas fa-eraser"></i>
                        </button>                        
                    </div>
                </div>

            </div>  
            <div class="modal-footer" v-show="current_invitation && current_invitation.consent_form">            
                <div class="row">
                    <div class="col text-center">
                        <div v-show="current_invitation && current_invitation.consented" class="text-success">
                            <i class="fas fa-check fa-2x"></i>
                        </div>
                        
                        <div v-show="current_invitation && !current_invitation.consented">
                            <span class="mr-2 text-danger">
                                [[consent_form_error]]
                            </span>
                            
                            <button type="button" class="btn btn-outline-primary" v-on:click = "acceptConsentForm()">
                                Submit <i class="fas fa-sign-in-alt"></i>
                            </button>
                        </div>
                    </div>
                </div>      
                
                                
            </div>
                      
        </div>
    </div>
</div>